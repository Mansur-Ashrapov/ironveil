[gd_scene load_steps=12 format=3 uid="uid://cjubmbied2t6k"]

[ext_resource type="Script" uid="uid://doqtsy35ujrb6" path="res://scripts/mobs/mob_base.gd" id="1_p2gj0"]
[ext_resource type="Texture2D" uid="uid://bu1n2k16p3l40" path="res://assets/sprites/slime_green.png" id="2_pjw23"]
[ext_resource type="Script" uid="uid://byyxc5e6bn44t" path="res://scripts/mobs/slime/killzone.gd" id="3_n6pvg"]
[ext_resource type="Script" uid="uid://dxrooluvdresx" path="res://scripts/mobs/mob_base_animation_controller.gd" id="3_pjw23"]

[sub_resource type="Animation" id="Animation_2npkn"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_gstla"]
resource_name = "damage"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [9, 10]
}

[sub_resource type="Animation" id="Animation_pjw23"]
resource_name = "idle"
length = 1.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 2, 1]
}

[sub_resource type="Animation" id="Animation_fd6lc"]
resource_name = "walk"
length = 0.8
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [4, 5, 6, 7]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_v5wyi"]
_data = {
&"RESET": SubResource("Animation_2npkn"),
&"damage": SubResource("Animation_gstla"),
&"idle": SubResource("Animation_pjw23"),
&"walk": SubResource("Animation_fd6lc")
}

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_n6pvg"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath("AnimationPlayer:current_animation")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath("Sprite2D:flip_h")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath(".:game_started")
properties/3/spawn = true
properties/3/replication_mode = 1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_n6pvg"]
size = Vector2(67, 90)

[node name="Slime" type="CharacterBody2D" groups=["mob"]]
z_index = 3
collision_layer = 4
collision_mask = 4
motion_mode = 1
script = ExtResource("1_p2gj0")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(0, 10.999999)
scale = Vector2(5, 5)
texture = ExtResource("2_pjw23")
hframes = 4
vframes = 3

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_v5wyi")
}
script = ExtResource("3_pjw23")

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_n6pvg")

[node name="killzone" type="Node2D" parent="."]
script = ExtResource("3_n6pvg")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0.5, 26)
shape = SubResource("RectangleShape2D_n6pvg")
